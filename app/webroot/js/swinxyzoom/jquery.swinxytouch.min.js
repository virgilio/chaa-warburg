(function(b,p){function d(a,d){var e;return!(e=b.data(a,c))?b.data(a,c,new f(a,d)):e}function f(c,d){function f(a,c){b(document).on("touchstart",v);n.hasFocus=!0;m="sxy-focus";a&&a(c);m="sxy-hover"}function e(){b(document).off("touchstart",v);n.hasFocus=!1;m="sxy-blur";n.el.triggerHandler(m);m="sxy-hover"}function h(a){s=a;q.x=a.pageX;q.y=a.pageY;n.pt=[q];n.trigger(m)}function r(a){s=a;a=a.originalEvent.targetTouches;for(var c=n.pt=[],b=0,d=a.length;b<d;++b)c.push({x:a[b].pageX,y:a[b].pageY,type:1,
down:!0});n.trigger(m)}function k(a,b,c,d){p.push(a={e:a,hnd:c,l:0,el:d||n.el});c=0;for(d=b.length;c<d;++c)t[l[b[c]]].push(a)}var n=this,m="sxy-hover",q={x:0,y:0,down:!1,type:0},p=[],t={},s;this.options=d=b.extend({},a,b.isPlainObject(d)?d:{});this.el=b(c);this.pt=[];this.g={};this.h={};this.hasFocus=!1;for(var u=0;u<l.length;++u)t[l[u]]=[];g||(k("mouseenter",[0,2,4],function(a){n.hasFocus||f(h,a);m="sxy-hover";h(a)}),k("mouseleave",[1,2,5],function(a){q.down?m="sxy-up":m="sxy-hover";q.down=!1;h(a);
e(h,a)}),k("mousedown",[3,4],function(a){m="sxy-down";q.down=!0;h(a);m="sxy-move"}),k("mouseup",[0,1,2,3,4,5],function(a){m="sxy-up";q.down=!1;h(a);m="sxy-hover"}),k("mousemove",[2,4],h));k("touchstart",[0,1,2,3,4,5],function(a){m="sxy-down";n.hasFocus||f(r,a);r(a);m="sxy-move"});k("touchend",[0,1,2,3,4,5],function(a){m="sxy-up";s=a;var c=a.originalEvent.targetTouches;a=a.originalEvent.changedTouches;for(var b=n.pt=[],d=0,f=c.length;d<f;++d)b.push({x:c[d].pageX,y:c[d].pageY,type:1,down:!0});d=0;for(f=
a.length;d<f;++d)b.push({x:a[d].pageX,y:a[d].pageY,type:1,down:!1});n.trigger(m);m="sxy-hover"});k("touchmove",[0,1,2,3,4,5],r);var v=function(a){for(var d=!0,c=n.pt,b=0,f=c.length;b<f;++b)if(!0==c[b].down){d=!1;break}d&&e(r,a)},w=b.Event;this.trigger=function(a,d){this.options.preventDefault&&s.preventDefault();d=d||{};d.pointers=n.pt;d.originalEvent=s;n.el.trigger(w(a,d))};this.eventEnabler=function(a,d){for(var c,b=t[a],f=d?1:-1,e=0,h=b.length;e<h;++e)switch((c=b[e]).l+=f){case 0:c.el.off(c.e,
c.hnd);break;case 1:c.el.on(c.e,c.hnd)}};n.focus=f;n.blur=e}for(var e=navigator.userAgent.toLowerCase(),g=-1<e.indexOf("android")&&-1<e.indexOf("mobile"),c="swinxytouch",a={preventDefault:!0,stopPropagation:!1},l="sxy-focus sxy-blur sxy-hover sxy-down sxy-move sxy-up".split(" "),e=function(a){return function(){d(this).eventEnabler(a,!0)}},h=function(a){return function(){d(this).eventEnabler(a,!1)}},k=0,r=l.length;k<r;++k){var q=l[k];b.event.special[q]={setup:e(q),teardown:h(q)}}b.fn[c]=function(a){return this.each(function(){var c=
d(this,a);a&&c[a]&&c[a].apply(c,Array.prototype.slice.call(arguments,1))})};b.fn[c].g=function(a,c,f){b.event.special[a]={setup:function(){var e=d(this),h;h=e.g[a]=new c(e,e.options[a]?b.extend({},f,e.options[a]):f);b.each(h,function(a,c){if("sxy-"==a.substr(0,4))e.el.on(a,h[a])})},teardown:function(){var c=d(this),f=c.g[a];b.each(f,function(a,d){"sxy-"==a.substr(0,4)&&c.el.off(a,f[a])});c.g[a]=null}}};b.fn[c].d=function(a,c){var d=a.x-c.x,b=a.y-c.y;return Math.sqrt(d*d+b*b)};b.fn[c].a=function(a,
c){var d;return 0<(d=Math.atan2(a.y-c.y,a.x-c.x))?d*(180/Math.PI):(2*Math.PI+d)*(180/Math.PI)};b.fn[c].h=function(a,c){f.prototype[a]=function(){this.h[a]=new c(this)}};b.fn[c].m=function(a,c){return{x:(a.x+c.x)/2,y:(a.y+c.y)/2}}})(jQuery);(function(b,p){b.fn.swinxytouch.g("sxy-doubletap",function(d,b){var e=Math.abs,g,c;this["sxy-tap"]=function(a){a=a.position;null!=g&&(new Date).getTime()-g<b.maxDelay&&e(c.x-a.x)<b.maxMove&&e(c.y-a.y)<b.maxMove?(d.trigger("sxy-doubletap",{position:c}),g=null):(g=(new Date).getTime(),c={x:a.x,y:a.y})}},{maxDelay:300,maxMove:4})})(jQuery);(function(b,p){var d="sxy-drag";b.fn.swinxytouch.g(d,function(b){function e(a,e){var h=a.pointers;c.state=e;0<h.length&&(c.position.x=h[0].x,c.position.y=h[0].y);b.trigger(d,c)}var g,c={position:{}};this["sxy-up"]=function(a){g&&e(a,3);g=!1};this["sxy-move"]=function(a){1==a.pointers.length&&(g?e(a,2):(g=!0,e(a,1)))}})})(jQuery);(function(b,p){b.fn.swinxytouch.g("sxy-longpress",function(d,b){var e,g={},c=function(){var a=d.pt,c=Math.abs;e=null;c(g.x-a[0].x)<b.maxMove&&c(g.y-a[0].y)<b.maxMove&&d.trigger("sxy-longpress",{position:g})};this["sxy-down"]=function(a){a=a.pointers;g={x:a[0].x,y:a[0].y};e&&clearTimeout(e);e=setTimeout(c,b.minDelay)};this["sxy-up"]=function(a){clearTimeout(e)}},{minDelay:1E3,maxMove:5})})(jQuery);(function(b,p){var d="sxy-rotate";b.fn.swinxytouch.g(d,function(f,e){function g(c,b){var e,g;k.state=b;k.rotation+=180>Math.abs(e=(g=a(c.pointers[0],c.pointers[1]))-h)?e:0;h=g;f.trigger(d,k)}var c,a=b.fn.swinxytouch.a,l,h,k={};this["sxy-down"]=function(b){2==b.pointers.length&&(c=!1,l=h=a(b.pointers[0],b.pointers[1]))};this["sxy-up"]=function(a){c&&(c=!1,g(a,3))};this["sxy-move"]=function(b){var d=b.pointers;2==d.length&&(c?g(b,2):Math.abs(l-a(d[0],d[1]))>e.minRotate&&(c=!0,k.rotation=0,g(b,1)))}},
{minRotate:3})})(jQuery);(function(b,p){var d="sxy-scale";b.fn.swinxytouch.g(d,function(f,e){function g(b,e){var g=b.pointers,l=c(g[0],g[1]);k.state=e;k.scale=l/h;k.distance=l-h;k.position=a(g[0],g[1]);f.trigger(d,k)}var c=b.fn.swinxytouch.d,a=b.fn.swinxytouch.m,l,h,k={};this["sxy-down"]=function(a){a=a.pointers;2==a.length&&(l=!1,h=c({x:a[0].x,y:a[0].y},{x:a[1].x,y:a[1].y}))};this["sxy-up"]=function(a){l&&g(a,3)};this["sxy-move"]=function(a){var b=a.pointers;2==b.length&&(l?g(a,2):Math.abs(1-c(b[0],b[1])/h)>e.minScale&&
(l=!0,g(a,1)))}},{minScale:0.2})})(jQuery);(function(b,p){b.fn.swinxytouch.g("sxy-swipe",function(d,f){var e=b.fn.swinxytouch.d,g=b.fn.swinxytouch.a,c={},a,l;this["sxy-down"]=function(c){c=c.pointers;a=(new Date).getTime();l={x:c[0].x,y:c[0].y}};this["sxy-up"]=function(b){b=b.pointers;(new Date).getTime()-a<f.maxTime&&e(l,b[0])>f.minMove&&(c.direction=f.map[Math.round(g(l,b[0])/(360/f.map.length))%f.map.length],c.distance=Math.abs(e(l,b[0])),d.trigger("sxy-swipe",c))}},{maxTime:300,minMove:10,map:["left","up","right","down"]})})(jQuery);(function(b,p){b.fn.swinxytouch.g("sxy-tap",function(b,f){var e=Math.abs,g,c;this["sxy-down"]=function(a){a=a.pointers;1==a.length&&(g=(new Date).getTime(),c={x:a[0].x,y:a[0].y})};this["sxy-up"]=function(a){a=a.pointers;1==a.length&&((new Date).getTime()-g<f.maxDelay&&e(c.x-a[0].x)<f.maxMove&&e(c.y-a[0].y)<f.maxMove)&&b.trigger("sxy-tap",{position:c})}},{maxDelay:150,maxMove:2})})(jQuery);(function(b,p){b.fn.swinxytouch.h("bound",function(d){var f=d.el.offset(),e=f.left,g=f.top,c=e+d.el.width(),a=g+d.el.height();d.el.on("sxy-hover sxy-down sxy-up sxy-move sxy-focus",function(f){var h=f.pointers[0];h.y<g||h.x>c||h.y>a||h.x<e?d.hasFocus&&d.blur():d.hasFocus||(d.focus(),d.el.trigger(b.Event("sxy-focus",{pointers:f.pointers,originalEvent:f.originalEvent})))})})})(jQuery);(function(b,p){b.fn.swinxytouch.h("smartclick",function(d){var f=this;f.allow=!1;f._hndClick=function(b){f.allow||b.preventDefault();f.allow=!1};f._hndTap=function(d){f.allow=!0;b(d.originalEvent.target).trigger("click")};d.el.on("click",f._hndClick);d.el.on("sxy-tap",f._hndTap)})})(jQuery);
